LA NAVE ROCKERÍA - API para gestión de productos y usuarios, registro de ventas y mensajería



Para obtener datos de productos: (método GET)

- Obtener datos de un producto a partir del id:

/api/productos?id=(id del producto)


[ejemplo: /api/productos?id=199678b8-8cd9-46f5-8d7d-390299f58933

Se obtiene:
{
    "_id": "6887dadeac23e906555fc3da",
    "uuid": "199678b8-8cd9-46f5-8d7d-390299f58933",
    "tipo": "remera",
    "banda": "Almendra Spinetta",
    "modelo": 2,
    "stock": {
        "XS": 5,
        "S": 5,
        "M": 4,
        "L": 5,
        "XL": 5,
        "XXL": 5
    },
    "precio": 18000,
    "descuento": 0,
    "imagen": "https://res.cloudinary.com/dg7o3rafr/image/upload/v1753733854/qdjne6scqui197ugcbmv.jpg",
    "fechaYHoraAlta": "2025-07-28T20:17:34.169Z",
    "__v": 0,
    "fechaYHoraModificacion": "2025-07-29T01:22:37.453Z"
}]

Nótese que se utiliza el valor de uuid

- Obtener los últimos 11 productos agregados a la base de datos:

/api/productos?recientes=true


- Obtener todos los productos:

/api/productos?tipo=todos


- Obtener todos los productos de un mismo tipo:

/api/productos?tipo=(tipo de productos)

tipo de productos puede ser:
- remeras
- buzos
- mochilas
- varios (los productos que no pertenecen a las anteriores categorías)

(puede escribirse también en singular, ej: 'remera' o 'buzo')


- Buscar productos por artista/ banda:

/api/productos?banda=(nombre de la banda)


- Obtener todos los productos con descuento (en oferta):

/api/productos?descuento=true



Para agregar un producto a la base de datos:
(método POST - se requiere TOKEN - los datos se envían como multipart/form-data)

- api/productos/alta

- Header: {
Authorization: Bearer TOKEN,
Content-type: multipart/form-data
}

Datos a enviar:

Datos obligatorios:

- banda:
	String de máx. 40 caracteres. Ejemplo: "La Renga"
- tipo:
	String de máx. 30 caracteres. Ejemplo: "remera" (en singular)
- stock:
	String en formato JSON conteniendo las cantidades en stock (números enteros) correspondientes a cada talle.
	Ejemplo: '{"S": 20, "M": 25, "L": 22, "XL": 23}'
	Si el producto no tiene talle o viene en talle único, se indica con "U".
	Ejemplo: '{"U": 28}'.
- precio:
	Número entero mayor que cero (puede enviarse como string).

Datos opcionales:

- imagen:
	Archivo .jpg de no más de 2 Mb. La proporción de la imagen debe ser cercana a 1/1.
- descuento:
	Número entero de 0 a 100 que representa el porcentaje de descuento realizado sobre el precio. También puede enviarse como string.



Para modificar datos de un producto:
(método PUT - se requiere TOKEN - los datos se envían como multipart/form-data)

- api/productos/actualizar/(id del producto)

(Recordar que para id se utiliza el valor de uuid)

- Header: {
Authorization: Bearer TOKEN,
Content-type: multipart/form-data
}

Datos a enviar:
Mismos datos que para el alta de producto, solo que todos son opcionales.
Se debe enviar al menos uno de los datos.
No se pueden enviar los mismos datos que están guardados (se debe cambiar al menos uno de ellos).



Para eliminar un producto de la base de datos:
(método DELETE - se requiere TOKEN)

- api/productos/eliminar/(id del producto)

(Recordar que para id se utiliza el valor de uuid)

- Header: {
Authorization: Bearer TOKEN
}
